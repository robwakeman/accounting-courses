"use strict";function runApp(){var e,o,r,a,i,s,l,u,d,g,t,p,h=document.querySelector("[data-courses]"),n=document.querySelector("[data-filter-button-group]"),c=document.querySelectorAll(".btn-filter"),m=document.querySelector("[data-burger]"),f=document.querySelector("[data-primary-menu]"),v=document.querySelector("[data-sort-select]"),b=document.querySelector("[data-load-more]"),y=0;v.addEventListener("change",function(){if(console.log(v.value),p=v.value){switch(s){case"tax":e=r;break;case"communication":e=a;break;case"technology":e=i;break;default:e=o}h.innerHTML="",x(e,10,s,p)}});function L(){y++}var x=function(e,t,n,c){switch(s=n,console.log("%c currentType","background: #222; color: #bada55",s),console.log("coursesArr (in loadCourses)",e),p){case"title":console.log("in switch (loadCourses): title"),e=e.sort(function(e,t){return e.title>t.title?1:-1});break;case"priceLowToHigh":console.log("in switch (loadCourses): priceLowToHigh"),e=e.sort(function(e,t){return e.price>t.price?1:-1});break;case"priceHighToLow":console.log("in switch (loadCourses): priceHighToLow"),e=e.sort(function(e,t){return e.price<t.price?1:-1});break;default:console.log("in switch (loadCourses): no sorting"),e=e}e.length&&(g=e.length/t,d=e.slice((y-1)*t,t*y),y===Math.ceil(g)&&(b.setAttribute("disabled",""),b.textContent="No more courses"),function(e){"all"===s?o.length:"tax"===s?r.length:"communication"===s?a.length:"technology"===s&&i.length;l="",e.forEach(function(e,t){u=e.imageSrc.replace(/\.[^/.]+$/,""),l+='\n      <div class="course">\n      \x3c!-- responsive image code to include here --\x3e\n      \x3c!-- count batch: '.concat(t+1,' --\x3e\n      \n      <a href="#"><div class="course__image-container"><img src="dist/images/').concat(u,'-1x.jpg" alt="').concat(e.altText,'" srcset="dist/images/').concat(u,'-2x.jpg 768w" /><span class="').concat(e.type,'">').concat(e.type,'</span></div></a>\n        <div class="course__body">\n        <a href="#"><h2 class="course__title">').concat(e.title,'</h2></a>\n        <p class="course_description">').concat(e.description,'</p>\n        <div class="course__price"><b>Price</b>: &pound;').concat(e.price,"</div>\n        </div>\n      </div>\n    ")}),h.innerHTML+=l}(d),b.classList.remove("is-hidden"))};b.addEventListener("click",function(){event.preventDefault(),L(),"all"===s?x(o,10,s):"tax"===s?x(r,10,s):"communication"===s?x(a,10,s):"technology"===s&&x(i,10,s)}),axios("https://learn.accountingcpd.net/ACPD/API/Test/SampleObject").then(function(e){console.log(e),o=e.data,r=o.filter(function(e){return"tax"===e.type}),a=o.filter(function(e){return"communication"===e.type}),i=o.filter(function(e){return"technology"===e.type}),L(),x(o,10,"all")}).catch(function(e){return console.log("Catch Error",e)}),n.addEventListener("click",function(e){e.preventDefault(),e.target.classList.contains("btn-filter")&&(t=e.target.dataset.filter,h.innerHTML="",y=0,console.log("numLoads after reset: ",y),b.removeAttribute("disabled"),b.textContent="Load more",L(),"all"===t?x(o,10,"all",p):"tax"===t?x(r,10,"tax",p):"communication"===t?x(a,10,"communication",p):"technology"===t&&x(i,10,"technology",p),c.forEach(function(e){e.classList.remove("is-checked")}),e.target.classList.add("is-checked"))}),m.addEventListener("click",function(e){console.log("clicked burger"),e.preventDefault(),f.classList.toggle("active")})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",runApp):runApp();